{"version":3,"sources":["assets/images/logo.png","component/common/SharedCompt.jsx","view/pose/Issue.jsx"],"names":["module","exports","__webpack_require__","p","UserLogin","_React$Component","props","_this","Object","_Applications_MAMP_htdocs_project_react_cnode_project_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_Applications_MAMP_htdocs_project_react_cnode_project_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Applications_MAMP_htdocs_project_react_cnode_project_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","state","btnval","loginSubmit","bind","_Applications_MAMP_htdocs_project_react_cnode_project_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__","_Applications_MAMP_htdocs_project_react_cnode_project_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__","_Applications_MAMP_htdocs_project_react_cnode_project_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","key","value","e","is","keyCode","_this2","UserTokenVal","refs","userToken","$showMsg","setState","$request","method","url","data","accesstoken","success","result","setStorage","history","push","pathname","search","concat","loginname","error","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","className","ref","type","name","onKeyDown","enterSumit","placeholder","onClick","React","Component","NotLogin","isLogo","src","require","alt","data-layout-align","data-layout","react_router_dom__WEBPACK_IMPORTED_MODULE_7__","to","defaultProps","DetectLogin","_React$Component2","LoginStatus","apply","arguments","$getStorage","realuser","LoadLoop","LoadFail","NotResult","text","Issue","isLogin","title","content","tab","arrRadio","isChecked","themeTitle","target","themeContent","issueSubmit","length","topic_id","i","map","item","index","onInput","ThemeCate","selectThemeCate","themeType","defaultChecked","id","htmlFor"],"mappings":"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","file":"static/js/10.94645ef3.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.3bd6cd42.png\";","import React from 'react'\nimport { Link } from 'react-router-dom'\n// import PropTypes from \"prop-types\";\n\nimport { setStorage } from '@script/utils'\n\nexport class UserLogin extends React.Component {\n  // static contextTypes = {   router: PropTypes.object }\n  constructor(props) {\n    super(props)\n    this.state = {\n      btnval: '登录'\n    }\n    this.loginSubmit = this.loginSubmit.bind(this)\n  }\n  enterSumit(e) {\n    Object.is(e.keyCode, 13) && this.loginSubmit()\n  }\n  loginSubmit() {\n    const UserTokenVal = this.refs.userToken.value\n    if (!UserTokenVal) {\n      return this.$showMsg('亲,token不能为空!')\n    }\n    this.setState({ btnval: '登录中...' })\n    this.$request({\n      method: 'post',\n      url: `accesstoken`,\n      data: {\n        accesstoken: UserTokenVal\n      },\n      success: result => {\n        if (result.success) {\n          this.$showMsg('登录成功!')\n          result['accesstoken'] = UserTokenVal\n          setStorage('USER_INFO', result)\n          this.props.history.push({\n            pathname: '/user',\n            search: `?name=${result.loginname}`\n          })\n        } else {\n          this.$showMsg('登录失败!')\n          this.setState({ btnval: '登录' })\n        }\n      },\n      error: () => {\n        this.$showMsg('登录失败!')\n        this.setState({ btnval: '登录' })\n      }\n    })\n  }\n  render() {\n    return (\n      <div className=\"user-login-form\">\n        <div className=\"ipt-row\">\n          <input\n            ref=\"userToken\"\n            className=\"bd-radius bd-none pdl\"\n            type=\"text\"\n            name=\"user-token\"\n            onKeyDown={this.enterSumit.bind(this)}\n            placeholder=\"Access Token\"\n          />\n        </div>\n        <div className=\"ipt-row\">\n          <input\n            className=\"bd-radius bg-color ft-white bd-none\"\n            type=\"submit\"\n            value={this.state.btnval}\n            onClick={this.loginSubmit}\n            name=\"btn-submit\"\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport const NotLogin = props => {\n  return (\n    <div className=\"not-login-wrap tc\">\n      {props.isLogo && (\n        <img\n          className=\"not-login-photo\"\n          src={require('@images/logo.png')}\n          alt=\"\"\n        />\n      )}\n      <h2 data-layout-align=\"center center\" data-layout=\"layout\">\n        还未登录，现在就去<Link className=\"ft-color\" to=\"/user/login\">\n          登录\n        </Link>\n      </h2>\n    </div>\n  )\n}\n\nNotLogin.defaultProps = {\n  isLogo: true\n}\n\nexport const DetectLogin = props => {\n  class LoginStatus extends React.Component {\n    // constructor(props) {\n    //   super(props)\n    // }\n    render() {\n      if (this.$getStorage()) return <props.realuser {...this.props} />\n      return <NotLogin />\n    }\n  }\n  return LoginStatus\n}\n\nexport const LoadLoop = () => <div className=\"tc pdtb\">玩命加载中...</div>\nexport const LoadFail = () => <div className=\"tc pdtb\">加载失败!</div>\nexport const NotResult = props => <div className=\"tc pdtb\">{props.text}</div>\n\nNotResult.defaultProps = {\n  text: '暂无数据!'\n}\n","import React from 'react'\nimport { DetectLogin } from '@component/common/SharedCompt'\n\nclass Issue extends React.Component {\n  constructor(props) {\n    super(props)\n    const isLogin = this.$getStorage()\n    this.state = {\n      title: '',\n      content: '',\n      tab: 'dev',\n      accesstoken: isLogin && isLogin.accesstoken,\n      arrRadio: [\n        {\n          type: 'ask',\n          name: '问答',\n          isChecked: true\n        },\n        {\n          type: 'share',\n          name: '分享',\n          isChecked: false\n        },\n        {\n          type: 'job',\n          name: '招聘',\n          isChecked: false\n        },\n        {\n          type: 'dev',\n          name: '测试',\n          isChecked: false\n        }\n      ]\n    }\n    const { state } = this\n    this.themeTitle = e => {\n      state.title = e.target.value\n    }\n    this.themeContent = e => {\n      state.content = e.target.value\n    }\n    this.issueSubmit = () => {\n      if (state.title.length < 10) {\n        return this.$showMsg('亲,请输入10字以上的标题!')\n      } else if (!state.content) {\n        return this.$showMsg('亲,请输入内容!')\n      }\n      const { accesstoken, title, tab, content } = state\n      this.$request({\n        method: 'post',\n        url: 'topics',\n        data: { accesstoken, title, tab, content },\n        success: result => {\n          if (result.success) {\n            this.$showMsg('发表成功!')\n            this.props.history.push({\n              pathname: '/index/article-details',\n              search: `?id=${result.topic_id}`\n            })\n          } else {\n            this.$showMsg('发表失败!')\n          }\n        },\n        error: () => {\n          this.$showMsg('发表失败!')\n        }\n      })\n    }\n  }\n  selectThemeCate(i, e) {\n    //类型选择\n    const { arrRadio } = this.state\n    if (arrRadio[i].isChecked) return\n    arrRadio.map((item, index) => {\n      return (item.isChecked = Object.is(i, index) ? true : false)\n    })\n    this.setState(\n      {\n        tab: arrRadio[i].type,\n        arrRadio: arrRadio\n      },\n      () => {\n        // console.log(this.state.tab)\n      }\n    )\n  }\n  render() {\n    return (\n      <div className=\"issue-content-wrap\">\n        <div className=\"ipt-row\">\n          <input\n            type=\"text\"\n            name=\"theme-title\"\n            placeholder=\"给标题取个名!\"\n            onInput={this.themeTitle}\n            className=\"bd-none w100 pd\"\n          />\n        </div>\n        <div className=\"ipt-row\">\n          <textarea\n            onInput={this.themeContent}\n            placeholder=\"说点什么吧...\"\n            name=\"theme-cnt\"\n            className=\"bd-none w100 pd\"\n          />\n        </div>\n        <ThemeCate\n          arrRadio={this.state.arrRadio}\n          selectThemeCate={this.selectThemeCate.bind(this)}\n          themeType={this.themeType}\n          issueSubmit={this.issueSubmit}\n        />\n      </div>\n    )\n  }\n}\n\nclass ThemeCate extends React.Component {\n  render() {\n    return (\n      <div>\n        <div\n          className=\"ipt-row pd\"\n          data-layout-align=\"space-between center\"\n          data-layout=\"layout\"\n        >\n          选择类别{' '}\n          {this.props.arrRadio.map((item, index) => {\n            return (\n              <div\n                key={index}\n                className={\n                  'radio-wrap' + (item.isChecked ? ' select-radio-active' : '')\n                }\n                data-layout-align=\"space-between center\"\n                data-layout=\"layout\"\n              >\n                <span className=\"ilbk\">\n                  <input\n                    type=\"radio\"\n                    defaultChecked={item.isChecked}\n                    name=\"theme-cate wh100\"\n                    onClick={this.props.selectThemeCate.bind(this, index)}\n                    id={item.type}\n                  />\n                </span>\n                <label htmlFor={item.type}>{item.name}</label>\n              </div>\n            )\n          })}\n        </div>\n        <div className=\"ipt-row tc plw theme-issue-submit\">\n          <input\n            className=\"bd-radius bg-color ft-white bd-none w100 public-button\"\n            type=\"submit\"\n            onClick={this.props.issueSubmit}\n            name=\"btn-submit\"\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default DetectLogin({ realuser: Issue })\n"],"sourceRoot":""}