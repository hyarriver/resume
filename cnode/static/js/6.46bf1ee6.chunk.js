(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{201:function(e,t,a){e.exports=a.p+"static/media/logo.3bd6cd42.png"},203:function(e,t,a){"use strict";var n=a(0),i=a.n(n),r=a(211),s=a.n(r);t.a=function(e){return i.a.createElement(s.a,Object.assign({},e,{defaultSource:a(201),source:e.src}))}},206:function(e,t,a){"use strict";var n=a(3),i=a.n(n),r=a(4),s=a.n(r),l=new i.a({id:"write",use:"write-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="write"><defs><style type="text/css"></style></defs><path d="M800.13642 532.707624c-9.884115 0.339738-17.621333 8.629541-17.280572 18.513656 0.802272 23.327288-1.188058 46.838771-5.916756 69.883627-15.871479 77.337389-60.905138 143.863549-126.807081 187.321316-48.865941 32.224935-104.860233 48.906873-162.075329 48.904827-19.945261-0.001023-40.046065-2.028193-60.035328-6.131651-77.329203-15.867386-143.849222-60.896952-187.30699-126.792755-43.458791-65.897849-58.650795-144.776338-42.779316-222.10861 14.031575-68.393693 51.940976-129.781832 106.747209-172.85279 54.1769-42.576701 121.733529-65.028039 190.18862-63.22395 9.877975 0.294712 18.11252-7.541767 18.373463-17.428951 0.260943-9.887184-7.541767-18.11252-17.428951-18.373463-76.81141-2.038426-152.537092 23.140023-213.265198 70.866001-61.458747 48.300053-103.969956 117.131721-119.701243 193.813171-17.795295 86.702688-0.760317 175.141926 47.965431 249.025657 48.724725 73.882708 123.30635 124.369565 210.004945 142.159744 22.415522 4.601808 44.941562 6.875594 67.308989 6.875594 64.143902-0.002047 126.934994-18.705014 181.720761-54.831816 73.887824-48.724725 124.379798-123.31249 142.17407-210.022341 5.297656-25.813922 7.526417-52.163033 6.626931-78.31567C818.310338 540.105105 810.049187 532.329001 800.13642 532.707624z" p-id="2678" /><path d="M867.717607 244.533342l-107.154485-88.954985c-0.033769-0.028653-0.068562-0.057305-0.103354-0.084934-2.672876-2.184759-12.423961-8.653077-25.684986-0.115634-3.721765 2.39556-7.482415 5.831822-10.914584 9.984399L445.186292 504.919744c-7.887644 9.507538-10.121522 17.298991-9.862625 23.302729L381.973598 700.753945c-2.153036 6.960529 0.12689 14.529925 5.763261 19.146059 3.27151 2.679016 7.296173 4.052293 11.348466 4.052293 2.928702 0 5.873778-0.717338 8.55791-2.179642l157.733441-85.85539c5.894244-0.918929 13.039991-4.573155 20.816095-13.919011 0.024559-0.030699 0.051165-0.062422 0.075725-0.093121l6.826476-8.318456c0.677429-0.701988 1.299599-1.455141 1.856277-2.26253L864.974124 282.295388C879.459023 264.823458 875.528504 251.052826 867.717607 244.533342zM465.761909 551.026852c2.241041 3.817955 4.754281 7.728008 7.577582 11.651364 12.372795 17.196661 32.44904 37.054941 63.321164 48.092321l-107.459431 58.491159L465.761909 551.026852zM572.269665 582.505797c-58.31515-7.190773-79.501682-52.872185-85.767386-71.473845l261.84359-319.048453 85.894276 71.306023L572.269665 582.505797z" p-id="2679" /></symbol>'});s.a.add(l)},207:function(e,t,a){"use strict";var n=a(3),i=a.n(n),r=a(4),s=a.n(r),l=new i.a({id:"page-views",use:"page-views-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="page-views"><defs><style type="text/css"></style></defs><path d="M512.25 608.81c-41.925 0-76.028-33.34-76.028-74.327 0-40.987 34.105-74.327 76.028-74.327 41.931 0 76.043 33.341 76.043 74.327 0 40.989-34.111 74.327-76.043 74.327z m0-187.186c-63.652 0-115.433 50.628-115.433 112.858s51.781 112.855 115.433 112.855c63.658 0 115.451-50.624 115.451-112.855S575.908 421.624 512.25 421.624z m180.409 290.877c46.944-45.472 76.075-108.484 76.075-178.034 0-69.466-29.063-132.411-75.897-177.862 120.707 53.946 212.681 145.033 243.43 177.883-30.734 32.899-122.71 124.1-243.608 178.012zM88.248 534.474c30.734-32.898 122.709-124.112 243.597-178.032-46.936 45.472-76.067 108.475-76.067 178.024 0 69.477 29.063 132.426 75.909 177.884-120.716-53.936-212.689-145.018-243.438-177.877zM512.25 746.703c-119.693 0-217.066-95.21-217.066-212.237 0-117.016 97.374-212.219 217.066-212.219 119.698 0 217.077 95.203 217.077 212.219 0.001 117.026-97.378 212.237-217.077 212.237z m465.493-224.488c-8.472-10.028-210.45-245.734-465.493-245.734-255.041 0-457.005 235.706-465.474 245.733a18.93 18.93 0 0 0 0 24.531C55.245 556.776 257.21 792.46 512.25 792.46c255.043 0 457.02-235.683 465.493-245.715 6.012-7.114 6.012-17.409 0-24.53z" p-id="3344" /></symbol>'});s.a.add(l)},208:function(e,t,a){"use strict";var n=a(0),i=a.n(n),r=a(20),s=a(203),l=a(22),o=(a(206),a(207),function(e){return i.a.createElement("span",{className:e.color+" ft-white mgr title-type"},e.type)});o.defaultProps={color:"bg-sgrey"};var c=function(e){var t=e.info;return i.a.createElement("div",{className:"article-item"+(e.addclass?" ".concat(e.addclass):"")},e.isLinks?i.a.createElement(r.b,{to:{pathname:"/index/article-details",search:"?id=".concat(t.id),state:{id:t.id}}},i.a.createElement(u,Object.assign({},e,{info:t}))):i.a.createElement(u,Object.assign({},e,{info:t})))};c.defaultProps={isLinks:!0};var u=function(e){var t=e.info;return i.a.createElement("div",{"data-layout":"layout","data-layout-align":"start center"},e.isLazyImg?i.a.createElement(s.a,{className:"author-avatar mgr bd-radius",src:t.author.avatar_url,"data-layout-flex":"0",alt:""}):i.a.createElement("img",{className:"author-avatar mgr bd-radius",src:t.author.avatar_url,"data-layout-flex":"0",alt:""}),i.a.createElement("div",{"data-ellipsis":!0,className:"w100"},i.a.createElement("h3",{"data-ellipsis":!0},function(){if(t.top)return i.a.createElement(o,{color:"bg-color",type:"\u7f6e\u9876"});if(t.good)return i.a.createElement(o,{color:"bg-color",type:"\u7cbe\u534e"});switch(t.tab){case"share":return i.a.createElement(o,{type:"\u5206\u4eab"});case"good":return i.a.createElement(o,{color:"bg-olor",type:"\u7cbe\u534e"});case"ask":return i.a.createElement(o,{type:"\u95ee\u7b54"});case"job":return i.a.createElement(o,{type:"\u62db\u8058"});case"dev":return i.a.createElement(o,{type:"\u6d4b\u8bd5"});default:return""}}(),t.title),i.a.createElement("div",{className:"numFt mgtb","data-layout":"layout","data-layout-align":"space-between center"},i.a.createElement("span",null,i.a.createElement("svg",{className:"svg svg-write"},i.a.createElement("use",{xlinkHref:"#write",fill:"#b6b6b6"})),t.author.loginname),Object(l.a)(t.create_at)),i.a.createElement("div",{className:"numFt","data-layout":"layout","data-layout-align":"space-between center"},i.a.createElement("span",null,i.a.createElement("svg",{className:"svg svg-write"},i.a.createElement("use",{xlinkHref:"#page-views",fill:"#b6b6b6"})),t.reply_count,"/",t.visit_count),Object(l.a)(t.last_reply_at))))};u.defaultProps={isLazyImg:!0},t.a=c},231:function(e,t,a){},250:function(e,t,a){},275:function(e,t,a){"use strict";a.r(t);var n=a(46),i=a(47),r=a(50),s=a(48),l=a(49),o=a(0),c=a.n(o),u=a(20),d=a(72),p=a.n(d),h=a(38),f=a(71),m=(a(231),{init:"",pulling:"pulling",enough:"pulling enough",refreshing:"refreshing",refreshed:"refreshed",reset:"reset",loading:"loading"}),v=function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(r.a)(this,Object(s.a)(t).call(this))).state={loaderState:m.init,pullHeight:0,progressed:0},e.loadMore=e.loadMore.bind(Object(f.a)(e)),e}return Object(l.a)(t,e),Object(i.a)(t,[{key:"setInitialTouch",value:function(e){this._initialTouch={clientY:e.clientY}}},{key:"calculateDistance",value:function(e){return e.clientY-this._initialTouch.clientY}},{key:"easing",value:function(e){var t=e,a=window.screen.availHeight;return a/2.5*Math.sin(t/a*(Math.PI/2))+0}},{key:"canRefresh",value:function(){return this.props.onRefresh&&[m.refreshing,m.loading].indexOf(this.state.loaderState)<0}},{key:"touchStart",value:function(e){this.canRefresh()&&1===e.touches.length&&(this._initialTouch={clientY:e.touches[0].clientY,scrollTop:this.refs.panel.scrollTop})}},{key:"touchMove",value:function(e){if(this.canRefresh()){var t=this.refs.panel.scrollTop,a=this.calculateDistance(e.touches[0]);if(a>0&&t<=0){var n=a-this._initialTouch.scrollTop;n<0&&(n=0,this._initialTouch.scrollTop=a);var i=this.easing(n);i&&e.preventDefault(),this.setState({loaderState:i>this.props.distanceToRefresh?m.enough:m.pulling,pullHeight:i})}}}},{key:"touchEnd",value:function(){var e=this;if(this.canRefresh()){var t={loaderState:m.reset,pullHeight:0};this.state.loaderState===m.enough?(this.setState({loaderState:m.refreshing,pullHeight:0}),this.props.onRefresh(function(){e.setState({loaderState:m.refreshed,pullHeight:0})},function(){e.setState(t)})):this.setState(t)}}},{key:"loadMore",value:function(){var e=this;this.setState({loaderState:m.loading}),this.props.onLoadMore(function(){e.setState({loaderState:m.init})})}},{key:"onScroll",value:function(e){if(this.props.autoLoadMore&&this.props.hasMore&&this.state.loaderState!==m.loading){var t=e.currentTarget;t.scrollHeight-t.clientHeight-t.scrollTop<5&&this.loadMore()}}},{key:"componentWillReceiveProps",value:function(e){e.initializing<2&&this.setState({progressed:0})}},{key:"animationEnd",value:function(){var e={};this.state.loaderState===m.refreshed&&(e.loaderState=m.init),this.props.initializing>1&&(e.progressed=1),this.setState(e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.className,n=t.hasMore,i=t.initializing,r=this.state,s=r.loaderState,l=r.pullHeight,o=r.progressed,u=n?c.a.createElement("div",{className:"tloader-footer"},c.a.createElement("div",{className:"tloader-btn",onClick:this.loadMore}),c.a.createElement("div",{className:"tloader-loading"},c.a.createElement("i",{className:"ui-loading"}))):null,d=l?{WebkitTransform:"translate3d(0,".concat(l,"px,0)")}:null,p="";return o||(i>0&&(p+=" tloader-progress"),i>1&&(p+=" ed")),c.a.createElement("div",{ref:"panel",className:"tloader state-".concat(s," ").concat(a).concat(p),onScroll:function(t){return e.onScroll(t)},onTouchStart:function(t){return e.touchStart(t)},onTouchMove:function(t){return e.touchMove(t)},onTouchEnd:function(t){return e.touchEnd(t)},onAnimationEnd:function(t){return e.animationEnd(t)}},c.a.createElement("div",{className:"tloader-symbol"},c.a.createElement("div",{className:"tloader-msg"},c.a.createElement("i",null)),c.a.createElement("div",{className:"tloader-loading"},c.a.createElement("i",{className:"ui-loading"}))),c.a.createElement("div",{className:"tloader-body",style:d},this.props.children),u)}}]),t}(c.a.Component);v.defaultProps={distanceToRefresh:60,autoLoadMore:1};var g=v,y=a(208),b=function(e){return function(t,a){var n=e.page,i=e.data,r=e.type,s=e.isReset;return t({type:"SAVE_TOPIC",page:n,topicType:r,result:s?i:a().rTopicList.result.concat(i)})}},E=function(e){return function(t,a){return t({type:"SCROLL_TOP_SITE",scrollTop:e})}},w=(a(250),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).state={canRefreshResolve:1,hasMore:1,infoList:e.rTopicList.result,isLoadData:!0,initializing:e.rTopicList.result.length?2:1,refreshedAt:Date.now()},a.refScroll=null,a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;!Object.is(e.type,this.props.type)&&this.setState({hasMore:1},function(){t.refresh()})}},{key:"componentDidMount",value:function(){var e=this.props.rTopicList,t=e.page,a=e.scrollTop;!t&&this.loadData(),!this.refScroll&&(this.refScroll=this.refs.scrollCnt.refs.panel),a&&(this.refScroll.scrollTop=a)}},{key:"refresh",value:function(e,t){var a=this;this.setState({hasMore:1},function(){a.loadData(e,"reset")})}},{key:"componentWillUnmount",value:function(){(0,this.props.dispatch)(E(this.refScroll.scrollTop))}},{key:"loadData",value:function(e,t){var a=this,n=this.state.infoList,i="reset"===t,r=i?1:Math.ceil(n.length/10)+1;this.$request({url:"topics",params:{page:r,tab:this.props.type,limit:10},success:function(t){if(a.state.isLoadData){var s=t.data;a.setState({infoList:i?s:n.concat(s),hasMore:1,initializing:2,loadState:"loaded"});var l=a.props,o=l.dispatch,c=l.rTopicList,u=l.type;(!Object.is(c.page,r)||i)&&o(b({data:s,page:r,type:u,isReset:i})),i&&(window.scrollTo(0,0),a.refScroll.scrollTop=0),s.length<10&&a.setState({hasMore:!1}),e&&e()}}})}},{key:"render",value:function(){var e=this.state,t=e.hasMore,a=e.initializing,n=this.state.infoList;return c.a.createElement("div",{className:"load-more-view loadmore-wrap container-bottom"},c.a.createElement(g,{ref:"scrollCnt",className:"main",onRefresh:this.refresh.bind(this),onLoadMore:this.loadData.bind(this),hasMore:t,initializing:a},c.a.createElement("div",{className:"article-list"},n.map(function(e,t){return c.a.createElement(y.a,{key:t,info:e,isLazyImg:!1,addclass:"mgt bg-white"})}))))}}]),t}(c.a.Component)),k=Object(h.b)(function(e,t){return{rTopicList:e.rTopicList}})(w);a.d(t,"default",function(){return M});var S=[{name:"\u5168\u90e8",link:"/",type:"all"},{name:"\u7cbe\u534e",link:"/?tab=good",type:"good"},{name:"\u5206\u4eab",link:"/?tab=share",type:"share"},{name:"\u95ee\u7b54",link:"/?tab=ask",type:"ask"},{name:"\u62db\u8058",link:"/?tab=job",type:"job"},{name:"\u6d4b\u8bd5",link:"/?tab=dev",type:"dev"}],T=function(e){var t={};return t[e.type]="ft-color",c.a.createElement("nav",{className:"pf w100 l0 z1 nav-top-fixed"},c.a.createElement("ul",{className:"tab-nav-list bg-white tc","data-layout":"layout","data-layout-align":"space-between center"},S.map(function(e,a){return c.a.createElement("li",{key:a},c.a.createElement(u.c,{to:e.link,className:t[e.type]},e.name))})))},M=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"shouldComponentUpdate",value:function(e,t){return(p.a.parse(e.location.search.slice(1)).tab||"all")!==(p.a.parse(this.props.location.search.slice(1)).tab||"all")}},{key:"render",value:function(){var e=p.a.parse(this.props.location.search.slice(1)).tab||"all";return c.a.createElement("div",null,c.a.createElement(T,{type:e}),c.a.createElement(k,{type:e}))}}]),t}(c.a.Component)}}]);
//# sourceMappingURL=6.46bf1ee6.chunk.js.map